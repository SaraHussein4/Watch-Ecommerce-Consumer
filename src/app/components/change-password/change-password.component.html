<div class="container mb-4" style="margin-top: 100px;">
  <h2>Change Password</h2>

  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="onSubmit()">
    <!-- Current Password -->
    <div class="mb-3 position-relative">
      <label for="currentPassword" class="form-label">Current Password</label>
      <input
        [type]="showCurrent ? 'text' : 'password'"
        class="form-control"
        id="currentPassword"
        [(ngModel)]="currentPassword"
        name="currentPassword"
        placeholder="Enter current password"
        required
      />
      <i
        class="bi"
        [ngClass]="showCurrent ? 'bi-eye-slash' : 'bi-eye'"
        (click)="toggleVisibility('current')"
        style="position: absolute; top: 38px; right: 10px; cursor: pointer;"
      ></i>
    </div>

    <!-- New Password -->
    <div class="mb-3 position-relative">
      <label for="newPassword" class="form-label">New Password</label>
      <input
        [type]="showNew ? 'text' : 'password'"
        class="form-control"
        id="newPassword"
        [(ngModel)]="newPassword"
        name="newPassword"
        placeholder="Enter new password"
        required
      />
      <i
        class="bi"
        [ngClass]="showNew ? 'bi-eye-slash' : 'bi-eye'"
        (click)="toggleVisibility('new')"
        style="position: absolute; top: 38px; right: 10px; cursor: pointer;"
      ></i>
    </div>

    <!-- Confirm New Password -->
    <div class="mb-3 position-relative">
      <label for="confirmPassword" class="form-label">Confirm New Password</label>
      <input
        [type]="showConfirm ? 'text' : 'password'"
        class="form-control"
        id="confirmPassword"
        [(ngModel)]="confirmNewPassword"
        name="confirmNewPassword"
        placeholder="Confirm new password"
        required
      />
      <i
        class="bi"
        [ngClass]="showConfirm ? 'bi-eye-slash' : 'bi-eye'"
        (click)="toggleVisibility('confirm')"
        style="position: absolute; top: 38px; right: 10px; cursor: pointer;"
      ></i>
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-primary">Update Password</button>
    <button type="button" class="btn btn-secondary ms-2" (click)="cancel()">Cancel</button>
  </form>
</div>
